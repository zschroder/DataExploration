---
title: "Data Exploration"
author: "Zoe Schroder"
date: "4/4/2019"
output: html_document
---

This .Rmd file is used to explore my data further. I hope to find some interesting results within my data that inspire new research questions. 

I am using `BigDays.RData` from the pred-casualties repository. Each row in the data frame **BigDays.sfdfT** represents a big tornado day defined as having 10 or more tornadoes on a given convective day (6 AM to 6 AM). Included are the maximum and average values of the atmospheric variables within the hull/ spatial exent of the event. (Convective Available Potential Energy (CAPE), Convective Inhibition (CIN), Helicity (HLCY), U-direction of storm motion (USTM), V-direction of storm motion (VSTM)...calculated by me are Bulk Shear (BS) and Storm Motion (SM)). The **Torn.sfT** data frame has information on every tornado that falls within a big day. This is point data...start of the tornado's genesis location.

Other variables to consider including: Lifted Condesation Levels (LCL), Significant Tornado Parameter (STP), Supercell Composite Parameter (SCP). Additionally varying the parcel level may prove interesting (most unstable, surface-based, mixed layer). 

To start any analysis, load the Big Day data. 
```{r}
load("BigDays.RData")
dim(BigDays.sfdfT)
dim(Torn.sfT)
```

Plot histograms of the data
```{r}
BigDays.sfdfT$Duration <- as.numeric(BigDays.sfdfT$Duration)
hist(BigDays.sfdfT$Duration)
hist(BigDays.sfdfT$casualties)
hist(BigDays.sfdfT$nT)
hist(BigDays.sfdfT$maxEF)
```

The duration and the maxEF rating have a similar distribution. Is there a relationship between the number of each damage category and the duration of the event? 

** At AAG DC 2019, I had a conversation with Grady Dixon from Fort Hays in Kansas. We discussed my research and moving forward. We talked about the idea of calculating the potential power of a tornado environment to cause destruction. Then determine how much actually was observed from the Accumulated Tornado Power (ED equations -- power). You would be able to make statements such as "The potential for destruction was XXX however, the outbreak only utilized XX % of the potential power available to it." My question is this: If the potential power is higher, is that directly related to duration of the event on that day? For multi-day events: If the environment has a potential of 1000 Watts and only uses 250 on day one, Will the remaining wattage be used in following days? If the entire potential of the outbreak is not met, does this lead to longer multi-day events? **

################
## Questions: ##
################

Is there a monthly variation in the atmospheric environments? 
November has a similar ATP to May. Are the environments similar in these months? 

```{r}
library(dplyr)
month_table <- BigDays.sfdfT %>%
  group_by(Month) %>% 
  summarize(avgcape <- mean(maxCAPE),
            avgcin <- mean(minCIN),
            avghlcy <- mean(maxHLCY),
            avgbs <- mean(avgBS),
            avgsm <- mean(avgSM))
```

Is there a spatial dependency on the atmospheric variables?

```{r}
state_table <- Torn.sfT %>%
  group_by(st) %>% 
  summarize(avgED<- mean(ED) / 10^9,
            avgpathwidth <- mean(Length),
            avgcas <- mean(cas),
            avghour <- mean(Hour))

state_table 
```

Pull ED for each state from the Torn.sfT annd plot the average of the max ratings for each state. 

```{r}

```

Plot the total number of each EF ratings by state. MS had XX EF 0, MS had XX EF 1, MS had XX EF2, etc.

```{r}

```

What are the land atmospheric interactions that could influence the power on these big days? 

```{r}

```

Is the duration of the event influenced by the environments that are present? 

```{r}

```

Can you use the atmospheric environments to predict the number of tornadoes that will occur? 

```{r}

```

Does the starting hour of the event influence the duration of the event? 

```{r}

```

Is the area of the event correlated with the duration of the event? 

```{r}

```

